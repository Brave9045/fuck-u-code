# 💩 fuck-u-code ｜ 屎山代码鉴定器

> [!IMPORTANT]
> 📢 **记住这个命令：** `fuck-u-code` - 让代码不再烂到令人发指！

一个专为挖掘 Go 项目"屎坑"设计的工具，能无情揭露代码的丑陋真相，并用毫不留情的幽默语言告诉你：**你的代码到底有多烂**。

## ✨ 功能特色

- **屎山指数评分系统**（0~100 分，分数越高越臭）
- **六大维度全面检测**：循环复杂度 / 函数长度 / 注释覆盖率 / 错误处理 / 命名规范 / 代码重复
- **毫不留情的代码点评**：用扎心又好笑的方式指出你代码的缺点
- **彩色终端报告**：让代码审查不再枯燥，让队友笑着接受批评
- **灵活配置**：支持详细模式、摘要模式及自定义报告选项

> [!NOTE]
> 满分 100 分，分数越高表示代码质量越差（越像屎山）。

## 🚀 使用方式

### 1. 直接安装（推荐）

> [!TIP]
> 💡 **一行命令，揭露真相：** `fuck-u-code .` 让代码无处遁形！

```bash
# 全局安装命令
go install github.com/Done-0/fuck-u-code/cmd/fuck-u-code@latest

# 使用示例
fuck-u-code .          # 分析当前目录
fuck-u-code -v         # 显示详细报告
```

### 2. 从源码构建

#### 2.1 下载项目

```bash
git clone https://github.com/Done-0/fuck-u-code.git
cd fuck-u-code
```

#### 2.2 编译程序

macOS/Linux：

```bash
go build -o fuck-u-code ./cmd/fuck-u-code
```

Windows：

```bash
GOOS=windows GOARCH=amd64 go build -o fuck-u-code.exe ./cmd/fuck-u-code
```

### 3. 使用示例

```bash
./fuck-u-code .                # 分析当前目录
./fuck-u-code -v               # 显示详细问题列表
./fuck-u-code -s               # 只显示结论摘要
./fuck-u-code -t 10 -i 10      # 显示10个最臭文件，每个文件显示10个问题
```

## 🛠 命令行参数

| 参数        | 简写 | 描述                   | 默认值 |
| ----------- | ---- | ---------------------- | ------ |
| `--verbose` | `-v` | 显示详细报告           | false  |
| `--summary` | `-s` | 仅显示总结信息         | false  |
| `--top`     | `-t` | 显示最臭文件的数量     | 5      |
| `--issues`  | `-i` | 每个文件显示的问题数量 | 5      |

## 📊 输出示例

运行后，您将看到类似下面的彩色报告（实际使用时有丰富的颜色效果）：

```
🔍 开始嗅探：/path/to/your/project

────────────────────────────────────────────────────────────────────────────────

  🌱 屎山代码分析报告 🌱

────────────────────────────────────────────────────────────────────────────────

  总体评分: 3.9 / 100 - 如沐春风
  屎山等级: 清新可人 - 代码洁净，令人赏心悦目


◆ 评分指标详情

  ✓ 函数长度             2.0分    函数短小精悍，一眼一个小目标
  ✓ 注释覆盖率            1.4分    注释不错，能靠它活下来
  ✓ 错误处理             1.0分    错误都照顾到了，代码有大爱
  ✓ 代码重复度            0.8分    该抽象的都抽象了，强迫症舒服了
  ✓ 循环复杂度            0.1分    结构清晰，不绕弯子，赞👍
  ✓ 命名规范             0.0分    命名清晰，程序员的文明之光


◆ 最屎代码排行榜

  1. ./cmd/fuck-u-code/main.go           (屎气指数: 17.2)
     ⚠️  函数 main 长度为 49 行，考虑是否可以简化
     ⚠️  函数 runAnalysis 较长 (51 行)，建议拆分为多个小函数
     ⚠️  行 68: 忽略了可能的错误返回值
     ⚠️  行 92: 忽略了可能的错误返回值
     ⚠️  行 99: 忽略了可能的错误返回值
     🔥 ...还有 1 个问题实在太屎，列不完了

  2. ./pkg/analyzer/analyzer.go          (屎气指数: 10.9)
     ⚠️  函数 Analyze 长度为 32 行，考虑是否可以简化
     ⚠️  函数 analyzeFile 长度为 32 行，考虑是否可以简化
     ⚠️  函数 calculateOverallScore 长度为 41 行，考虑是否可以简化
     ⚠️  代码注释率较低 (8.3%)，建议增加注释

◆ 诊断结论

  🌱 清新可人 - 代码洁净，令人赏心悦目

  👍 继续保持，你是编码界的一股清流

────────────────────────────────────────────────────────────────────────────────
```

> [!TIP]
> 实际运行时，报告中的不同部分会以不同颜色显示：良好指标为绿色，中等问题为黄色，严重问题为红色。

> [!WARNING]
> 结果可能伤害心灵，请做好心理准备。

---

## 🌟 最后的话

> [!IMPORTANT]
> 💪 **记住：** 当代码质量令人担忧，就是时候使用 `fuck-u-code` 了！
>
> 让我们一起，消灭屎山，拥抱优雅的代码！
